<h1>Cambiar contraseña de <%= usuario.nombre %> <%= usuario.apellidos %></h1>
<form action="/usuarios/<%= usuario.id %>/cambiar-password" method="POST" data-confirm="password">
  <input type="hidden" name="confirm" value="no"><!-- Se actualiza a 'yes' tras confirmación -->
  <div class="mb-3">
    <label class="form-label">Nueva contraseña</label>
    <div class="input-group">
      <input type="password" name="password" id="newPwd" class="form-control" aria-describedby="pwdHelp">
      <button type="button" class="btn btn-outline-secondary" data-toggle="password" data-target="#newPwd"><i class="bx bx-show"></i></button>
    </div>
    <div id="pwdHelp" class="form-text">Mínimo 8 caracteres</div>
  </div>
  <div class="mb-3">
    <label class="form-label">Confirmar contraseña</label>
    <div class="input-group">
      <input type="password" name="passwordConfirm" id="newPwd2" class="form-control">
      <button type="button" class="btn btn-outline-secondary" data-toggle="password" data-target="#newPwd2"><i class="bx bx-show"></i></button>
    </div>
  </div>
  <% if (errors.length) { %>
    <div class="alert alert-danger">
      <ul class="mb-0">
        <% errors.forEach(e => { %><li><%= e.msg %></li><% }) %>
      </ul>
    </div>
  <% } else { %>
    <div class="alert alert-info">No se vuelve a mostrar la contraseña si hay error.</div>
  <% } %>
  <button class="btn btn-primary">Actualizar</button>
</form>
<!-- [checklist] permiso admin, validaciones y sin código muerto -->
