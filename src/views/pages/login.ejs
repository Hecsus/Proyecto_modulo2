<!--
  Vista de formulario de login.
  Propósito: permitir al usuario autenticarse.
  Entradas: `errors` (objeto de errores) y `oldInput` (datos previos).
  Salidas: formulario HTML.
  Validaciones: errores de `express-validator` mostrados en lista.
  Seguridad/UX: persistimos email y ofrecemos botón accesible para mostrar/ocultar contraseña sin repoblarla.
-->
<h1>Login</h1>
<form action="/auth/login" method="POST" class="col-md-4 mx-auto">
  <div class="mb-3">
    <label class="form-label">Email</label>
    <input type="email" name="email" value="<%= (oldInput && oldInput.email) || '' %>" class="form-control" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Contraseña</label>
    <!-- Campo de contraseña con botón mostrar/ocultar; no repoblamos por seguridad -->
    <div class="input-group">
      <input type="password" id="password" name="password" class="form-control" required>
      <button type="button" id="togglePwd" data-toggle="password" class="btn btn-outline-secondary" aria-pressed="false" aria-label="Mostrar contraseña">
        <i class="bx bx-show" aria-hidden="true"></i>
      </button>
    </div>
  </div>
  <% if (errors) { %>
    <div class="alert alert-danger">
      <ul class="mb-0">
        <% Object.values(errors).forEach(e => { %><li><%= e.msg %></li><% }) %>
      </ul>
    </div>
  <% } %>
  <button class="btn btn-primary">Ingresar</button>
</form>
<!-- [checklist] login persistencia + toggle -->
